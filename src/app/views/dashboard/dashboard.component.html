<main class="px-6 py-8 lg:px-[2vw] lg:w-[75vw] mx-auto text-text-primary" *ngIf="dados">

  <h1 class="text-3xl font-bold mb-8 tracking-wide">Painel de Controle</h1>

  <div class="flex flex-col gap-8">

    <!-- Linha 1 -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- Gráfico -->
<div class="lg:col-span-2 bg-dark-card border border-[#1A233A]   
            rounded-2xl p-6 shadow-lg shadow-black/40 hover:shadow-neon-blue/20 
            transition duration-300">

  <app-grafico 
    [umidade]="dados.umidade" 
    [temperatura]="dados.temperatura">
  </app-grafico>
<div class="mt-6 flex flex-wrap gap-3">

  <!-- Simular Incêndio -->
  <button
    type="button"
    (click)="simularTemperatura(60)"
    class="flex items-center gap-2 px-4 py-2 rounded-lg
           bg-red-600/90 text-white text-sm font-semibold
           hover:bg-red-500 hover:shadow-red-500/40
           shadow-md transition duration-300">
    Simular Incêndio
  </button>

  <!-- Simular Presença -->
  <button
    type="button"
    (click)="simularPresenca(true)"
    class="flex items-center gap-2 px-4 py-2 rounded-lg
           bg-amber-400/90 text-black text-sm font-semibold
           hover:bg-amber-300 hover:shadow-amber-300/40
           shadow-md transition duration-300">
    Simular Presença
  </button>

  <!-- RESET -->
  <button
    type="button"
    (click)="simularPresenca(false)"
    class="flex items-center gap-2 px-4 py-2 rounded-lg
           bg-slate-600/80 text-white text-sm font-semibold
           hover:bg-slate-500 hover:shadow-slate-400/30
           shadow-md transition duration-300">
    RESET
  </button>

</div>

</div>


      <!-- Sensor de Presença (mock por enquanto) -->
      <div class="bg-dark-card border border-[#1A233A] 
                  rounded-2xl p-6 shadow-lg shadow-black/40 hover:shadow-neon-blue/20 
                  transition duration-300">
        <app-sensor 
          [presenceDetected]="dados.presenca ?? false"
          (presenceChanged)="updatePresence($event)">
        </app-sensor>
      </div>

    </div>

    <!-- Linha 2 -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

      <!-- Câmera -->
<div class="lg:col-span-2 bg-dark-card border border-[#1A233A] 
            rounded-2xl p-6 shadow-lg shadow-black/40 hover:shadow-neon-blue/20 
            transition duration-300">

  <!-- Parte de cima: câmera -->
  <div class="relative w-full h-80 bg-black rounded-xl overflow-hidden border mb-4">

    <app-camera 
    [cameraActive]="dados.camera ?? false"
    [videoUrl]="cameraSelecionada.url">
  </app-camera>


  </div>

  <!-- Parte de baixo: botões -->
  <div class="flex justify-between items-center">

    <!-- Botão de ligar/desligar -->
    <button 
      (click)="alternarCamera()"
      class="px-4 py-2 bg-neon-blue text-black font-semibold rounded-lg 
             hover:bg-neon-blue/80 transition duration-300">
      {{ dados.camera ? 'Desativar Monitoramento' : 'Ativar Monitoramento' }}
    </button>

    <!-- Botões de câmeras -->
    <div class="flex gap-2 flex-col">
      <button
        *ngFor="let cam of cameras"
        (click)="selecionarCamera(cam.id)"
        class="px-3 py-1 text-sm rounded-lg border transition duration-300"
        [class.bg-neon-blue]="cam.id === cameraSelecionada.id"
        [class.text-black]="cam.id === cameraSelecionada.id"
        [class.border-gray-600]="cam.id !== cameraSelecionada.id"
      >
        {{ cam.nome }}
      </button>
    </div>

  </div>

</div>



      <!-- Controle de Acesso -->
      <div class="bg-dark-card border border-[#1A233A] 
                  rounded-2xl p-6 shadow-lg shadow-black/40 hover:shadow-neon-blue/20 
                  transition duration-300">
        <app-controle-acesso
          [portaTrancada]="dados.portaProducao || false"
          (alternarPorta)="alternarPorta()">
        </app-controle-acesso>

      </div>

    </div>

  </div>
  <!-- <div class="bg-dark-card border border-[#1A233A] 
            rounded-2xl p-6 shadow-lg shadow-black/40 hover:shadow-red-800/20 
            transition duration-300">
    
   <app-fire-system 
    [incendioAtivo]="dados.incendio"
    (alternarIncendio)="alternarIncendio()">
  </app-fire-system> 

</div> -->


</main>
